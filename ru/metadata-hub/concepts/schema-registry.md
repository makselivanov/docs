# Реестр схем данных

{% include notitle [preview](../../_includes/note-preview.md) %}

{% include [connection](../../_includes/metadata-hub/schema-registry-definition.md) %}

## Пространство имен {#namespace}

_Пространство имен_ (namespace) — это некоторое множество схем. Схемы и субъекты из разных пространств имен полностью изолированы друг от друга. Пользователь самостоятельно решает сколько пространств имен создавать и по какому принципу размещать схемы в них. Создание референсов между схемами из разных пространств невозможно.

## Субъект {#subject}

_Субъект_ ([subject](https://docs.confluent.io/platform/current/schema-registry/develop/api.html#subjects)) — именованная сущность, в рамках которой эволюционирует схема данных.
Конкретная версия субъекта содержит метаинформацию о схеме и саму схему. Версии схем нумеруются по порядку, увеличиваясь на единицу. Каждая версия схемы уникальна. Вы можете сравнивать разные версии схем.

## Схема {#schema}

_Схема_ ([schema](https://docs.confluent.io/platform/current/schema-registry/develop/api.html#schemas)) — это определение формата данных для описания их типа и структуры.
Схемы используются для проверки структуры данных в сообщениях о событиях и гарантируют, что производители и потребители отправляют и получают данные в одном и том же формате. Схемы определяются в реестре схем только внутри субъекта.

## Референс {#reference}

_Референс_ ([schema reference](https://docs.confluent.io/platform/current/schema-registry/fundamentals/serdes-develop/index.html#referenced-schemas)) — ссылка на другие схемы, состоящая из следующих параметров:

* Имя референса. Для Avro справочное имя — это полное имя схемы, для JSON — URL-адрес, а для Protobuf — имя другого файла Protobuf (как указано в директиве `import`).
* Имя субъекта, под которым зарегистрирована схема для референса.
* Версия, представляющая точную версию схемы зарегистрированного субъекта.

{% cut "Пример референса для схемы формата Protobuf" %}

Рассмотрим схему `msg2.proto` в субъекте `test-msg2`, которая ссылается на схему `msg1.proto` в субъекте `test-msg1`.

содержимое файла `msg1.proto`:

```bash
message msg1 {
    int8 my_field = 1
}
```

содержимое `msg2.proto`:

```bash
import "msg1.proto"

message msg2 {
    msg1 my_field = 1
}
```

Чтобы связать эти схемы, при загрузке схемы `msg2.proto` в субъект `test-msg2` укажите референс:
* `msg1.proto` — имя референса;
* `test-msg1` — имя субъекта, под которым зарегистрирована схема для референса `msg1.proto`;
* `1` — версия схемы референса.

{% endcut %}