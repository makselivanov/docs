# get-query-results

Метод возвращает результат выполнения запроса. Если в запросе указано несколько конструкций `SELECT`, образуется несколько результатов выполнения запроса. Тогда результаты нужно получать по их индексу.

{% include [!](../../_includes/api-common.md) %}

## Запрос {#request}

`GET`-запрос на адрес `/queries/{query_id}/results/{<номер_результата_выполнения_запроса_считая_от_0>}?project={folder_id}`, где `{folder_id}` — идентификатор каталога, а `{query_id}` — идентификатор запроса.

Параметры запроса передаются в URL в виде query-параметров:

| Параметр | Описание | Значение по умолчанию | Ограничения |
| ----- | ----- | ----- | ----- |
| `offset` | Номер строки массива результатов, начиная с которой нужно получить результаты | 0 | Не может быть отрицательным |
| `limit` | Количество строк результатов | 100 | Значение должно быть от 1 до 1000 |

## Ответ {#response}

В случае успеха возвращается HTTP-ответ с кодом 200 и результатами выполнения запроса.

```json
{
  "columns": [
    {
      "name": "column0",
      "type": "Int32"
    },
    {
      "name": "column1",
      "type": "Int32"
    }    
  ],
  "rows": [
    [
      "1",
      "2"
    ],
    [
      "3",
      "4"
    ]    
  ]
}
```

| Поле | Описание |
| ----- | ----- |
| `columns` | Массив колонок возвращаемого значения |
| `columns[].name` | Имя колонки |
| `columns[].type` | Тип данных колонки |
| `rows` | Массив строк результатов возвращаемого значения. Количество элементов массива каждой строки совпадает с числом колонок из параметра `columns` |

Правила конвертации YQL-типов данных в Json-совместимые типы данных описаны в разделе [Соответствие YQL и Json-типов](../yql-json-conversion-rules.md).

## Пример {#example}

Запрос:

```json
curl \
  --request 'GET' \
  'https://api.yandex-query.cloud.yandex.net/api/fq/v1/queries/cseugn35bc3r********/results/0?project=b1gaue5b382m********&offset=0&limit=100' \
  --header 'accept: application/json'
```

Ответ:

```json
{
  "columns": [
    {
      "name": "column0",
      "type": "Int32"
    },
    {
      "name": "column1",
      "type": "Int32"
    }    
  ],
  "rows": [
    [
      "1",
      "2"
    ],
    [
      "3",
      "4"
    ]
  ]
}
```
