# Диалоги в {{ speechsense-name }}

_Диалог_ — это объект {{ speechsense-name }}. Диалоги бывают двух типов:

* Аудио — разговор оператора с клиентом, записанный в контактном центре с помощью АТС. Когда вы [загрузите запись разговора](../operations/data/upload-data.md) в {{ speechsense-name }}, речь оператора и клиента будет распознана автоматически.

* Чат — текстовая переписка клиента c оператором или ботом. Для чатов необходимо вручную указать авторов сообщений перед [загрузкой переписки](../operations/data/upload-chat-text.md) в {{ speechsense-name }}.

Диалоги бывают двух направлений:

* Исходящие — инициированные оператором.
* Входящие — инициированные клиентом.

Анализируя диалоги в SpeechSense, вы можете оценить работу операторов. Работать с диалогами можно двумя способами:

* В списке диалогов [найти](../operations/data/manage-dialogs.md) нужный и посмотреть детальную информацию.
* [Построить отчет](../operations/data/manage-reports.md) по диалогам.

## Детальная информация о диалоге {#details}

Для каждого диалога [доступна](../operations/data/manage-dialogs.md#view-dialog) информация:

* Метаданные. Например: имена оператора и клиента, дата звонка или сообщения, язык диалога. Перечень метаданных [определен в подключении](../operations/connection/create.md).
* Аудиозапись разговора (только для аудио).
* Содержимое разговора.
* Анализ от [{{ yagpt-full-name }}](../../foundation-models/concepts/yandexgpt/index.md).

### Содержимое диалога {#contents}

На странице диалога на вкладке **Диалог** отображается его содержимое:

* для аудио — текстовая расшифровка диалога, автоматически выполненная с помощью [{{ speechkit-full-name }}](../../speechkit/index.yaml);
* для чатов — текстовые сообщения.

В текстовой расшифровке аудиозаписи и в текстовых сообщениях из чата доступен [поиск по фрагменту текста](../operations/data/manage-dialogs.md#find-dialogs) в канале клиента или оператора. Ищется точное совпадение. Найденные фрагменты подсвечиваются желтым цветом.

Текст автоматически размечается [тегами](tags.md) оператора и клиента. Это помогает определить, например, поздоровался ли оператор, был ли доброжелательным клиент.

### Анализ от {{ yagpt-name }} {#yandexgpt}

На странице диалога на вкладке **Анализ от {{ yagpt-name }}** отображается резюме, автоматически сгенерированное на основе семантического анализа диалога. Резюме содержит следующие разделы:

* **Анализ** — ответы на вопросы, которые помогают оценить качество работы оператора и поведение клиента во время разговора.
* **Суммаризация** — причины и итоги разговора. Также включает информацию о критериях, важных для оценки: например, эмоции участников или возражения во время разговора.
* **Причины** — почему произошел данный диалог. Примеры причин:

   * для входящего обращения — у клиента не работает сервис;
   * для исходящего обращения — оператор рекламирует подписку на сервис.

* **Тема** — о чем разговаривали клиент и оператор.
* **Итоги** — к чему привел разговор. Итоги подводятся для каждой причины диалога. Примеры:

   * для входящего обращения — оператор помог решить проблему клиента;
   * для исходящего обращения — клиент купил подписку.

Чтобы результаты анализа в дальнейшем были точнее, оценивайте их на вкладке **Анализ от {{ yagpt-name }}** для каждого диалога. Модель {{ yagpt-name }} обучается по оценкам.

При построении [отчета](reports/index.md) вы можете использовать [нейропараметр](reports/neuro-parameters.md). Он представляет собой характеристику диалога, по которой {{ speechsense-name }} проводит семантический анализ и определяет, содержит ли диалог эту характеристику. Есть два способа применения нейропараметров:

* Как фильтры диалогов. В отчет можно добавить, например, диалоги только на конкретную тему.
* Как параметр оценки (только в отчете «Форма оценки»). Можно посмотреть долю диалогов, например, с определенным итогом относительно всех диалогов в выборке отчета.

О настройке нейропараметров читайте в [инструкции](../operations/data/manage-reports.md#apply-neuro-parameter).

## Фильтрация диалогов {#filters}

Фильтры определяют условия, по которым выполняется [поиск диалогов](../operations/data/manage-dialogs.md#filters-dialogs).

Фильтры делятся на следующие типы:

* **Оператор** — данные оператора.
* **Клиент** — данные клиента.
* **Бот** (только для чатов) — данные бота.
* **Статистики речи** (только для аудио) — критерии качества речи оператора и клиента во время разговора. Например, скорость речи оператора или клиента, прерывал ли кто-то из них собеседника.
* **Общие метаданные** — данные о записанном разговоре или переписке из чата.
* **Теги клиента** и **Теги оператора** — классификаторы, которые применяются к результатам распознавания разговора или к текстовым сообщениям. [Подробнее о тегах](tags.md).
* **Анализ от {{ yagpt-name }}** — критерии качества работы оператора и особенности поведения клиента во время диалога. Например, был ли вежливым оператор, хамил ли клиент.

Для каждого фильтра указывается одно или несколько значений — условий фильтрации. Значения могут быть четырех типов:

* Дата — диапазон дат выбирается из календаря.
* Текстовый — вводится строка. Поиск выполняется по полному совпадению.
* Числовой — указывается диапазон чисел. Можно указать обе границы диапазона либо только одну из них. Чтобы найти конкретное значение, укажите его и в верхней, и в нижней границе. Значения границ включаются в диапазон фильтрации.
* Логический — выбирается значение **Да** или **Нет**.

Можно использовать одновременно несколько фильтров. В этом случае будут найдены диалоги, которые удовлетворяют всем заданным условиям.

## Связанные диалоги {#related-dialogs}

В некоторых CRM-системах чаты, которые относятся к одной задаче, группируются. Например, могут быть сгруппированы все чаты с клиентом, который обращался несколько раз с одним и тем же запросом. При [загрузке данных в {{ speechsense-name }}](../operations/data/upload-chat-text.md) вы можете указать дополнительный параметр `ticket_id`, тогда такие чаты будут сгруппированы в _связанные диалоги_.

В каждом из связанных чатов доступна кнопка вида ![image](../../_assets/speechsense/related-dialogues.png), с помощью которой можно [перейти](../operations/data/related-dialogs.md#list) на страницу связанных диалогов. На ней доступна для просмотра следующая информация о диалогах:

* В верхней части страницы — метаданные чатов.
* На вкладке **Диалог** — содержимое всех связанных чатов. Для каждого чата отображается своя иерархия тегов. Внутри одного чата возможен текстовый поиск.
* На вкладке **Анализ от {{ yagpt-name }}** — резюме, автоматически сгенерированные {{ yagpt-full-name }} на основе семантического анализа.
