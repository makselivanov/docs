# О сервисе {{ websql-full-name }}

{{ websql-full-name }} — это сервис {{ yandex-cloud }}, который позволит вам подключаться к публично доступным БД и кластерам управляемых БД. 

Подключившись к БД, вы сможете просматривать схемы, таблицы и представления БД, а также выполнять запросы. Сервис работает в браузере и предлагает удобные подсказки и команды для выполнения запросов.

Вы можете устанавливать подключения к кластерам управляемых БД из облаков и каталогов, которые принадлежат вашей [организации](../../organization/concepts/manage-services.md) {{ yandex-cloud }}. Если вы [перейдете в другую организацию](../../organization/operations/manage-organizations.md#switch-to-another-org), то вам будет доступен набор кластеров из других облаков и каталогов. Добавленные подключения будут доступны, пока вы работаете в текущей организации {{ yandex-cloud }}.

{{ websql-full-name }} поддерживает работу со следующими версиями БД:

* {{ PG }}: 12, 13, 14, 15, 16.
* {{ MY }}: 5, 8.
* {{ CH }}: 23, 24.
* {{ RD }} (только нешардированные кластеры): 6.2, 7.

## Пользовательский интерфейс {#user-interface}

Для работы с {{ websql-full-name }} используйте:

* _Панель управления_ — крайняя левая панель с иконками ![image](../../_assets/console-icons/folder-tree.svg) **Подключения**, ![image](../../_assets/console-icons/floppy-disk.svg) **Сохраненные запросы** и ![image](../../_assets/console-icons/clock-arrow-rotate-left.svg) **История запросов**.
* _Подключения_ — панель просмотра существующих и добавления новых подключений к БД.
* _Панель данных_ — крайняя правая панель, на которой можно формировать запросы и просматривать результаты их выполнения, а также просматривать настройки подключений и информацию об объектах БД.

Во время работы в интерфейсе {{ websql-full-name }} к URL текущей страницы автоматически добавляются идентификаторы сущностей {{ websql-full-name }}, которые вы открываете. Таким образом вы можете поделиться с другими пользователями прямой ссылкой на кластер, подключение, БД, сохраненный запрос или запрос из истории в сервисе {{ websql-full-name }}.

> Например, во время работы с сервисом {{ websql-full-name }} вы сохранили запрос и хотите поделиться им с другим пользователем. Для этого вы выбираете нужный запрос в разделе ![image](../../_assets/console-icons/floppy-disk.svg) **Сохраненные запросы** и копируете URL из адресной строки. 
> URL будет иметь вид:
> ```
> https://websql.yandex.cloud/folders/<идентификатор_вашего_каталога>/saved-queries/<идентификатор_сохраненного_запроса>`
> ```
> По этой ссылке нужный пользователь сможет перейти прямо на страницу с сохраненным запросом в сервисе {{ websql-full-name }}.

## Подключения {#connection}

В {{ websql-full-name }} вы можете создавать, использовать и контролировать подключения к БД. В разделе ![image](../../_assets/console-icons/folder-tree.svg) [**Подключения**]({{ websql-link }}) можно работать со следующими типами подключений:
* [Подключения к кластерам {{ yandex-cloud }}](../operations/create-connection.md#connect-cluster) — подключения к БД в кластерах управляемых БД через внутреннюю сеть {{ yandex-cloud }}. Такие кластеры необязательно должны быть публично доступными.
* [Внешние подключения](../operations/create-connection.md#connect-db) — подключения к публично доступным БД через Интернет.

В подразделе **Подключения {{ yandex-cloud }}** автоматически отображаются кластеры {{ PG }}, {{ CH }}, {{ MY }} и {{ RD }} из текущего каталога, если у пользователя есть доступ к ним. В строке над разделом **Подключения** вы можете выбрать другой каталог. Список кластеров обновится автоматически.

Подключения к БД одного кластера управляемых БД группируются в разворачивающийся список под именем этого кластера. Изменить это имя в {{ websql-full-name }} нельзя, но вы можете изменить имя кластера в сервисе управляемых БД. Это изменение автоматически отразится в разделе ![image](../../_assets/console-icons/folder-tree.svg) [**Подключения**]({{ websql-link }}). 

Внешние подключения не группируются, даже если адрес хоста БД одинаков.

{{ websql-full-name }} также поддерживает интеграцию с сервисом [{{ metadata-hub-full-name }}](../../metadata-hub/index.yaml) на уровне каталога пользователя. Созданные в {{ websql-full-name}} подключения автоматически появляются в {{ connection-manager-name }} сервиса {{ metadata-hub-full-name }} и наоборот.

Вы также можете [редактировать настройки подключения](../operations/connect.md#change-connection-settings) и [удалять ненужные подключения](../operations/connect.md#delete-connection). После подключения к БД вы сможете [просматривать схемы, таблицы и представления](../operations/view-db-objects-info.md) (`VIEW`). Таблицы и представления в рамках одного подключения объединяются в группы. Группировка представлений доступна, если в БД есть хотя бы одно представление.

## Запросы {#queries}

Для каждой БД можно выполнять запросы с использованием подсказок: начните вводить команду запроса и выберите подходящую из выпадающего списка. Вы также можете использовать готовые _шаблоны_ запросов или [сохранять свои запросы](../operations/templates.md#save-query) в виде [пользовательских шаблонов](#saved-queries). 

С помощью [истории запросов](#query-log) можно [посмотреть](../operations/history.md), какие запросы вы выполняли ранее, и повторить их.

Подробнее о выполнении запросов см. в [инструкции](../operations/query-executor.md).

## Сохраненные запросы {#saved-queries}

_Сохраненный запрос_ — это запрос, сохраненный в качестве шаблона. Вы можете сохранить любой запрос. Он будет доступен в разделе ![image](../../_assets/console-icons/floppy-disk.svg) **Сохраненные запросы** на панели управления.

Подробнее о работе с сохраненными запросами см. в [инструкции](../operations/templates.md).

## Запросы из истории {#query-log}

_Запросы из истории_ — это запросы, выполненные в вашей [организации](../../organization/concepts/manage-services.md) {{ yandex-cloud }} в рамках текущей сессии подключения. Они отображаются в разделе ![image](../../_assets/console-icons/clock-arrow-rotate-left.svg) **История запросов**. Рядом с запросом отображается статус запроса:

* ![image](../../_assets/websql/success.svg) — запрос выполнен успешно;
* ![image](../../_assets/websql/error.svg) — запрос не удалось выполнить;
* ![image](../../_assets/websql/unknown.svg) — произошла непредвиденная ошибка на стороне {{ websql-full-name }}.

Подробнее о работе с запросами из истории см. в [инструкции](../operations/history.md).

