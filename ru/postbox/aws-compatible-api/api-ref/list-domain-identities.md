# Метод ListDomainIdentities

Возвращает список [адресов](../../concepts/glossary.md#adress) в каталоге. Нужный каталог определяется по сервисному аккаунту, от имени которого выполняется запрос.

## Запрос {#request}

```http
GET /v2/email/identities HTTP/2
```

### Query-параметры {#query-parameters}

#|
|| **Параметр** | **Описание** ||
|| `PageSize` | **Тип**: integer.

Максимальное число результатов, которое может быть на одной странице в ответе на запрос. Если число доступных результатов больше значения `PageSize`, в ответе на запрос возвращается токен `NextToken` для запроса следующей страницы результатов.

Максимально допустимое значение параметра — `1000`. ||
|| `NextToken` | **Тип**: string.

Токен позволяет получить следующую страницу результатов запроса. Для этого передайте значение параметра `NextToken`, который вернулся в ответе на предыдущий запрос.

Максимальная длина строки в параметре — 100 символов. ||
|#

### Заголовки запроса {#request-headers}

{% include [api-request-headers](../../../_includes/postbox/api-request-headers.md) %}

## Ответы {#responses}

### 200 OK {#200}

```json
{
  "EmailIdentities": [
    {
      "IdentityType": "<тип_адреса>",
      "IdentityName": "<адрес>",
      "SendingEnabled": <состояние_адреса>,
      "VerificationStatus": "<статус_верификации>"
    }
  ],
  "NextToken": "<токен>"
}
```

#|
|| **Параметр** | **Описание** ||
|| `EmailIdentities` | **Тип**: array.

Массив адресов. ||
|| `IdentityType` | **Тип**: string.

Тип адреса. Возможное значение — `DOMAIN`. ||
|| `IdentityName` | **Тип**: string.

Адрес. ||
|| `SendingEnabled` | **Тип**: boolean.

Указывает, можете ли вы отправлять электронную почту с этого адреса. Возможные значения: `true` или `false`.

Прежде чем отправлять электронную почту с этого адреса, вы должны подтвердить, что являетесь его владельцем. ||
|| `VerificationStatus` | **Тип**: string.

Статус верификации:

* `PENDING` — верификация была запущена, но в {{ postbox-name }} пока не удалось подтвердить адрес.
* `SUCCESS` — верификация успешно завершена.
* `FAILED` — не удалось выполнить верификацию.
* `TEMPORARY_FAILURE` — из-за временной проблемы {{ postbox-name }} не может определить статус верификации.
* `NOT_STARTED` — верификация не была запущена. ||

|| `NextToken` | **Тип**: string.

Токен позволяет получить следующую страницу результатов запроса. Если число доступных результатов больше значения `PageSize`, в ответе на запрос возвращается токен `NextToken` для запроса следующей страницы результатов. Каждой странице присваивается свой токен для пагинации. ||
|#

Ответ `200 OK` может содержать дополнительные параметры. Он не возвращается строго в формате, указанном выше.

### Ошибки {#errors}

{% include [api-errors](../../../_includes/postbox/api-errors.md) %}

Возможные ошибки:

#|
|| **Код ошибки** | **Описание** ||
|| `400 BadRequestException` | В запросе переданы неправильные заголовки или параметры. ||
|| `429 TooManyRequestsException` | При вызове запроса превышена [квота](../../concepts/limits.md#postbox-quotas). ||
|#
