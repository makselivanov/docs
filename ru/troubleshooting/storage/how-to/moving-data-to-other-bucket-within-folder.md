# Как перенести содержимое бакета в другой бакет в пределах каталога


## Описание задачи {#case-description}

Необходимо перенести содержимое бакета в другой бакет, расположенный в том же самом каталоге. 

## Решение проблемы {#case-resolution}

Перенести содержимое бакета напрямую в другой каталог или облако не получится, но можно скопировать его содержимое при помощи утилиты [AWS CLI](../../../storage/tools/aws-cli.md).

В {{ objstorage-short-name }} поддерживается функциональность Server Side Copy (*копирование на стороне сервера*). Для переноса воспользуйтесь командой:

```
aws --endpoint-url=https://storage.yandexcloud.net s3 cp --recursive s3://bucket1/ s3://bucket2/
```

Перед выполнением команды из вышеуказанного примера выполните следующие замены:

* `bucket1` - бакет-источник, из которого будет производиться перенос или копирование;
* `bucket2` – бакет-приемник, внутрь которого будет производиться перенос или копирование.

Во время выполнения операции копирования с помощью AWS CLI, все объекты будут перемещаться непосредственно между бакетами. Между хостом, на котором запущена команда `aws s3 cp`, и серверами {{ objstorage-short-name }} будут передаваться только метаданные, то есть ключи передаваемых объектов. Передаваемый и принимаемый в {{ objstorage-short-name }} трафик при этом не тарифицируется, поскольку является внутренним с точки зрения объектного хранилища.

{% note info %}

Аналогичным способом можно скопировать содержимое бакета не только в другой каталог в рамках того же облака, но и в каталог в другом облаке. При этом необходимо, чтобы у используемой учетной записи {{ iam-short-name }} присутствовал доступ на  запись в оба бакета.

{% endnote %}